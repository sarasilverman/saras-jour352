(()=>{"use strict";var e,o={25721:(e,o,t)=>{var r=t(18187),n=t(13642),a=t(98512),i=t(67672);Panopto.CreateMenu=(0,r.bootstrapReactComponent)(a.a),Panopto.RecorderDownloadAndLaunch=n.$,Panopto.UserMenu=(0,r.bootstrapReactComponent)(i.B)},13642:(e,o,t)=>{t.d(o,{$:()=>i});var r=t(50266),n=t(11135),a=function(e,o,t,r){var n,a=arguments.length,i=a<3?o:null===r?r=Object.getOwnPropertyDescriptor(o,t):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,o,t,r);else for(var p=e.length-1;p>=0;p--)(n=e[p])&&(i=(a<3?n(i):a>3?n(o,t,i):n(o,t))||i);return a>3&&i&&Object.defineProperty(o,t,i),i};class i{constructor(){this.toggleLaunchOptions(!1),this.preferSimplifiedOptions(!0),Panopto.Core.UI.Handlers.button($("#downloadRecorderButton"),this.openDownloadModal,{allowPropagation:!0}),Panopto.Core.UI.Handlers.button($("#launchRecorderLink, #simplifiedLaunchButton"),this.launchRecorder),Panopto.Core.UI.Handlers.button($("#advancedDownloadLink"),(()=>this.preferSimplifiedOptions(!1))),Panopto.Core.UI.Handlers.button($("#launchAndroidApp, #launchIosApp"),this.launchMobileApp)}openDownloadModal(){Panopto.Application.defaultInstance.updateState({modalPage:"#recorderPopup",modalHeader:Panopto.GlobalResources.Controls_RecorderDownload_DisplayName,modalParams:Panopto.Core.StringHelpers.serializeObjectToQueryString({modalIcon:"download-icon"})}),this.toggleLaunchOptions(!1),this.preferSimplifiedOptions(!0),Panopto.Core.ElementHelpers.putFocusIntoModal($("#recorderPopup"))}preferSimplifiedOptions(e){e&&(e=i.simplifiedRecorderDownloadEnabled),$("#simplifiedRecorderOptions").toggle(e),$("#allRecorderOptions").toggle(!e)}toggleLaunchOptions(e){e&&(e=!!$("#launchRecorderLink")[0].href),$("#simplifiedRecorderLaunch, #launchOptions").toggle(e),$("#simplifiedDownloadTitle").toggle(!e),$("#simplifiedDownloadDefaultTitle").toggle(e),$("#simplifiedDownloadButton").toggleClass("branded-button",!e)}openLaunchRecorderModal(){let e;Panopto.GoogleAnalytics.sendEvent({source:"create-menu",action:"record-new-session"}),Panopto.isIOS?e=!0:Panopto.isAndroid?e=!1:(Panopto.Application.defaultInstance.updateState({modalPage:"#recorderPopup",modalHeader:Panopto.GlobalResources.Site_NewSessionLink,modalParams:Panopto.Core.StringHelpers.serializeObjectToQueryString({modalIcon:"download-icon"})}),this.toggleLaunchOptions(!0),this.preferSimplifiedOptions(!0),$("#recorderLaunchedMessage").hide(),e=!!n.CookieHelpers.getCookie("launchRecorderCookie")),e&&this.launchRecorder()}launchRecorder(){if(!!$("#launchRecorderLink")[0].href){$("#recorderLaunchDiv").hide(),$("#recorderLaunchedMessage").fadeIn("slow");const e=$("#launchRecorderFrame")[0].contentWindow;if(e){let o=Panopto.appRoot+"/Pages/Recorder/LaunchRecorder.aspx";o=o+window.location.search+window.location.hash,o=Panopto.Core.StringHelpers.convertFragmentToQuery(o),o=Panopto.Core.StringHelpers.addQueryParameter(o,{[Panopto.Core.Constants.AppActionTypeParameter]:Panopto.Core.Constants.AppRecordAction}),e.location.href=o}}}launchMobileApp(){const e=Panopto.Core.StringHelpers.addQueryParameter(`${Panopto.appRoot}/Pages/Mobile/iOSAppLaunch.aspx`,{[Panopto.Core.Constants.AppActionTypeParameter]:Panopto.Core.Constants.AppBrowseAction,[Panopto.Core.Constants.MobileLaunchChoice]:Panopto.Core.Constants.MobileLaunchIgnoreCookie,ReturnUrl:Panopto.Core.StringHelpers.convertFragmentToQuery(window.location.href)});window.location.href=e}launchWebRecorder(){let e=`${Panopto.appRoot}/Pages/Capture.aspx`;const o=Panopto.SessionList?.defaultInstance?.getCurrentFolderProperties()??Panopto.DepartmentHome?.defaultInstance?.folderInfo,t=o?.id??o?.ID,r=o?.permissions??o?.Permissions;r?.[n.Permission.SessionCreate]&&(e=Panopto.Core.StringHelpers.addQueryParameter(e,{folderId:t}));const a=document.createElement("a");a.href=e,a.target="Capture",a.rel="noopener",a.click()}}i.simplifiedRecorderDownloadEnabled=Panopto.features.simplifiedRecorderDownloadEnabled&&!Panopto.user.sitePermissions[n.Permission.AdvancedRecorderDownload],a([r.Q2],i.prototype,"openDownloadModal",null),a([r.Q2],i.prototype,"openLaunchRecorderModal",null),a([r.Q2],i.prototype,"launchRecorder",null),a([r.Q2],i.prototype,"launchMobileApp",null),a([r.Q2],i.prototype,"launchWebRecorder",null)},67672:(e,o,t)=>{t.d(o,{B:()=>p});var r=t(54380),n=t(41594),a=t(18187);class i extends n.Component{render(){const e=a.Material.withStyles.getClasses(this.props);return(0,r.Y)(a.Control.PeopleAvatar,{classes:{root:e.avatar},name:this.props.userFullNameOrKey,size:36})}}const p=a.Material.withStyles(i,(e=>({avatar:{color:e.palette.primary.contrastText}})))},11135:e=>{e.exports=PanoptoCore},18187:e=>{e.exports=PanoptoReactComponents},41594:e=>{e.exports=React}},t={};function r(e){var n=t[e];if(void 0!==n)return n.exports;var a=t[e]={id:e,exports:{}};return o[e].call(a.exports,a,a.exports,r),a.exports}r.m=o,e=[],r.O=(o,t,n,a)=>{if(!t){var i=1/0;for(c=0;c<e.length;c++){for(var[t,n,a]=e[c],p=!0,l=0;l<t.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((e=>r.O[e](t[l])))?t.splice(l--,1):(p=!1,a<i&&(i=a));if(p){e.splice(c--,1);var s=n();void 0!==s&&(o=s)}}return o}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[t,n,a]},r.n=e=>{var o=e&&e.__esModule?()=>e.default:()=>e;return r.d(o,{a:o}),o},r.d=(e,o)=>{for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r.j=2681,(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var o=r.g.document;if(!e&&o&&(o.currentScript&&"SCRIPT"===o.currentScript.tagName.toUpperCase()&&(e=o.currentScript.src),!e)){var t=o.getElementsByTagName("script");if(t.length)for(var n=t.length-1;n>-1&&(!e||!/^http(s?):/.test(e));)e=t[n--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{r.b=document.baseURI||self.location.href;var e={2681:0};r.O.j=o=>0===e[o];var o=(o,t)=>{var n,a,[i,p,l]=t,s=0;if(i.some((o=>0!==e[o]))){for(n in p)r.o(p,n)&&(r.m[n]=p[n]);if(l)var c=l(r)}for(o&&o(t);s<i.length;s++)a=i[s],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(c)},t=this.webpackChunk_panopto_webpack=this.webpackChunk_panopto_webpack||[];t.forEach(o.bind(null,0)),t.push=o.bind(null,t.push.bind(t))})(),r.nc=void 0;var n=r.O(void 0,[4223],(()=>r(25721)));n=r.O(n)})();
//# sourceMappingURL=file://engfs.d.panopto.com/share/jenkinsbuilds/rel_rtc_15.3.1/15.3.1.00010/_PublishedWebsites/WebUI/Scripts/Panopto/Bundles/SiteHeaderBootstrap.js.map